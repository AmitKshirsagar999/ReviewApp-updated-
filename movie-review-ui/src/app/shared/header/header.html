<!-- <mat-toolbar class="app-toolbar" color="transparent">
  <div class="brand" routerLink="/">
    <mat-icon class="brand-icon">movie</mat-icon>
    <span class="brand-text">MovieReview</span>
  </div>

  <span class="spacer"></span>

  <nav class="nav-links">
    <a mat-button routerLink="/">Home</a> -->
    <!-- <a mat-button routerLink="/movies">Explore</a> -->
    
    <!-- Show these buttons when NOT authenticated -->
    <!-- @if (!isAuthenticated) {
      <a mat-button routerLink="/login">Login</a>
      <a mat-stroked-button routerLink="/register">Register</a>
    } -->
     
    <!-- Show this button when authenticated -->
    <!-- @if (isAuthenticated) {
      <button mat-button (click)="logout()">
        <mat-icon>logout</mat-icon>
        Logout
      </button>
    }
  </nav>
</mat-toolbar> -->



<mat-toolbar class="app-toolbar" color="transparent">
  <div class="brand" routerLink="/">
    <mat-icon class="brand-icon">movie</mat-icon>
    <span class="brand-text">MovieReview</span>
  </div>

  <span class="spacer"></span>

  <nav class="nav-links">

    @if (showHomeButton) {
      <a mat-button routerLink="">Home</a>
    }
    
    <!-- Show these buttons when NOT authenticated -->
    @if (!isAuthenticated) {
      @if (showLoginButton) {
        <a mat-button routerLink="login">Login</a>
      }
      @if (showRegisterButton) {
        <a mat-button routerLink="register">Register</a>
      }
    }
     
    <!-- Show user dropdown when authenticated -->
    @if (isAuthenticated) {
      <div class="user-menu">
        <button 
          mat-button 
          [matMenuTriggerFor]="userDropdown"
          class="user-button">
          <span class="username">{{ currentUsername }}</span>
          <mat-icon class="dropdown-arrow">keyboard_arrow_down</mat-icon>
        </button>

        <mat-menu #userDropdown="matMenu" class="user-dropdown">
          <div class="user-info" mat-menu-item disabled>
            <div class="user-details">
              <div class="user-name">{{ currentUsername }}</div>
              @if (hasUserEmail) {
                <div class="user-email">{{ userEmail }}</div>
              }
            </div>
          </div>


          <!-- Add this new menu item -->
  <button mat-menu-item routerLink="/manage-movies" class="menu-item">
    <mat-icon>table_view</mat-icon>
    <span>Manage Movies</span>
  </button>

          
          
          <mat-divider></mat-divider>
          
          <button mat-menu-item (click)="logout()" class="menu-item logout-item">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      </div>
    }
  </nav>
</mat-toolbar>
